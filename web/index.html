<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>light control</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="main.js" defer></script>
</head>
<body>
    <div class="grid">
        <ul>
            <li><label>Lights</label></li>
            <li><button id="reset">All OFF</button></li>
            <li><button id="all_on">All ON</button></li>
            <li><button id="random">Random Path</button></li>
            <li><button id="pathType">Active Paths: 24</button></li>
            <li><button id="reverseOutput">Reverse Output</button></li>
            <li><label>N-Back</label></li>
            <li><button id="startTask">Start Task</button></li>
            <li><button id="startBaseline">Start Baseline Task</button></li>
            <li><button id="stopTask">Stop Task</button></li>
            <li><button id="triggerLeft">Left</button></li>
            <li><button id="triggerRight">Right</button></li>
            <li><input id="nbackSteps" value="1" type="number" min="0"></li>
            <li><button id="updateSteps">Update Steps</button></li>
            <li><label>Debug</label></li>
            <li><button id="echo">Send Echo</button></li>
            <li><button id="addLog">Dummy Log Msg</button></li>
            <li><button id="testCanvas">Test Canvas</button></li>
            <li><button id="resetCanvas">Reset Canvas</button></li>
            <li class="connectionStatus">
                <div id="connectionStatusIndicator"></div>
                <div>
                    <label id="connectionStatusText">disconnected</label>
                    <label id="connectionStatusConnectedTo"></label>
                    <label id="connectionStatusNBack"></label>
                    <label id="connectionStatusTracker"></label>
                </div>
            </li>
        </ul>
        <div class="light-map">
            <canvas id="trackerMap" width="930px" height="930px"></canvas>
            <code id="trackerDebugData"></code>
            <svg width="100%" height="100%" viewBox="0 0 1029 1029" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
                <g transform="matrix(1,0,0,1,-2190,-18)">
                    <g transform="matrix(1,0,0,1,-0.59272,0)">
                        <g id="_23" serif:id="23" transform="matrix(1,0,0,1,1581.67,488.271)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_22" serif:id="22" transform="matrix(1,0,0,1,1581.67,488.271)">
                            <path d="M1612.49,43.939L1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_21" serif:id="21" transform="matrix(-1,0,0,-1,4318.38,1064.42)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_20" serif:id="20" transform="matrix(1,0,0,0.5,2210.93,477.828)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_19" serif:id="19" transform="matrix(1,0,0,0.5,2210.52,481.069)">
                            <path d="M494.557,102.28L494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_18" serif:id="18" transform="matrix(-1,0,0,0.5,3200.85,477.828)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_17" serif:id="17" transform="matrix(1,0,0,-1,1093.4,1064.42)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_16" serif:id="16" transform="matrix(1,0,0,-1,1092.59,1064.42)">
                            <path d="M1612.49,43.939L1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_15" serif:id="15" transform="matrix(-1,0,0,1,3830.1,488.271)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_14" serif:id="14" transform="matrix(-6.12323e-17,1,0.5,3.06162e-17,2652.93,35.4241)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_13" serif:id="13" transform="matrix(0.49917,0,0,1,2702.75,-58.3412)">
                            <path d="M6.286,590.55L982.827,590.55" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_12" serif:id="12" transform="matrix(6.12323e-17,-1,0.5,3.06162e-17,2652.93,1025.35)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_11" serif:id="11" transform="matrix(-6.12323e-17,1,0.5,3.06162e-17,2167.9,35.8293)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_10" serif:id="10" transform="matrix(0.49917,0,0,1,2214.48,-58.3412)">
                            <path d="M6.286,590.55L982.827,590.55" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_9" serif:id="9" transform="matrix(6.12323e-17,-1,0.5,3.06162e-17,2167.9,1025.75)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_8" serif:id="8" transform="matrix(1,0,0,-1,1581.67,576.148)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_7" serif:id="7" transform="matrix(1,0,0,-1,1581.67,576.148)">
                            <path d="M1612.49,43.939L1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_6" serif:id="6" transform="matrix(-1,0,0,1,4318.38,0)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_5" serif:id="5" transform="matrix(1,0,0,0.5,2210.52,-7.2013)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_4" serif:id="4" transform="matrix(1,0,0,0.5,2210.52,-7.2013)">
                            <path d="M494.557,102.28L494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_3" serif:id="3" transform="matrix(-1,0,0,0.5,3200.45,-7.2013)">
                            <path d="M494.557,102.28C539.981,434.059 540.118,759.591 494.557,1078.82" style="fill:none;stroke:black;stroke-width:15.18px;"/>
                        </g>
                        <g id="_2" serif:id="2" transform="matrix(1,0,0,1,1093.4,0)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_1" serif:id="1" transform="matrix(1,0,0,1,1092.59,0)">
                            <path d="M1612.49,43.939L1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g id="_0" serif:id="0" transform="matrix(-1,0,0,-1,3830.1,576.148)">
                            <path d="M1612.49,43.939C1508.84,294.47 1346.01,457.116 1124.22,532.209" style="fill:none;stroke:black;stroke-width:12px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,2216.76,-47.6491)">
                            <circle cx="488.319" cy="91.588" r="25.39" style="stroke:black;stroke-width:1px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,2216.76,440.621)">
                            <circle cx="488.319" cy="91.588" r="25.39" style="stroke:black;stroke-width:1px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,2216.76,928.892)">
                            <circle cx="488.319" cy="91.588" r="25.39" style="stroke:black;stroke-width:1px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,2705.03,440.621)">
                            <circle cx="488.319" cy="91.588" r="25.39" style="stroke:black;stroke-width:1px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,1728.49,440.621)">
                            <circle cx="488.319" cy="91.588" r="25.39" style="stroke:black;stroke-width:1px;"/>
                        </g>
                    </g>
                </g>
            </svg>
        </div>    
    </div>
    <div id="logContainer">
        <button id="toggleLog">Log</button>        
        <div class="log">
            <ul id="log"></ul>
        </div>
    </div>
</body>
</html>